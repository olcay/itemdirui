(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{bzNi:function(t,e,i){"use strict";i.r(e),i.d(e,"ItemModule",(function(){return J}));var n=i("3Pt+"),o=i("ofXK"),r=i("tyNb"),c=i("fXoL");let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Bb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&c.Ib(0,"router-outlet")},directives:[r.g],encapsulation:2}),t})();var b=i("J9tS"),a=i("/xYi");let l=(()=>{class t{constructor(t,e,i){this.accountService=t,this.client=e,this.activatedRoute=i,this.account=this.accountService.accountValue,this.data=[]}getData(){this.client.getItem(this.activatedRoute.snapshot.params.itemid,void 0,"application/json").subscribe(t=>{console.log(t),this.data=t},t=>console.error(t))}ngOnInit(){this.getData()}}return t.\u0275fac=function(e){return new(e||t)(c.Hb(b.a),c.Hb(a.b),c.Hb(r.a))},t.\u0275cmp=c.Bb({type:t,selectors:[["ng-component"]],decls:11,vars:6,template:function(t,e){1&t&&(c.Kb(0,"section"),c.Kb(1,"header"),c.Kb(2,"h2"),c.fc(3),c.Jb(),c.Kb(4,"p"),c.fc(5),c.Jb(),c.Kb(6,"p"),c.fc(7),c.Tb(8,"date"),c.Jb(),c.Kb(9,"p"),c.fc(10),c.Jb(),c.Jb(),c.Jb()),2&t&&(c.xb(3),c.gc(e.data.title),c.xb(2),c.gc(e.data.itemType),c.xb(2),c.gc(c.Ub(8,4,e.data.creationDate)),c.xb(3),c.gc(e.data.description))},pipes:[o.d],encapsulation:2}),t})();function u(t,e){1&t&&(c.Kb(0,"div"),c.fc(1,"Title is required"),c.Jb())}function f(t,e){if(1&t&&(c.Kb(0,"div"),c.ec(1,u,2,0,"div",2),c.Jb()),2&t){const t=c.Sb();c.xb(1),c.Vb("ngIf",t.f.title.errors.required)}}function d(t,e){1&t&&(c.Kb(0,"div"),c.fc(1,"Description is required"),c.Jb())}function p(t,e){if(1&t&&(c.Kb(0,"div"),c.ec(1,d,2,0,"div",2),c.Jb()),2&t){const t=c.Sb();c.xb(1),c.Vb("ngIf",t.f.description.errors.required)}}function m(t,e){1&t&&(c.Kb(0,"span"),c.fc(1,"..."),c.Jb())}const h=function(t){return{"is-invalid":t}},g=[{path:"",component:s,children:[{path:"create",component:(()=>{class t{constructor(t,e,i,n,o,r){this.formBuilder=t,this.route=e,this.router=i,this.accountService=n,this.alertService=o,this.client=r,this.account=this.accountService.accountValue,this.loading=!1,this.submitted=!1,this.deleting=!1}ngOnInit(){this.form=this.formBuilder.group({title:["",n.k.required],description:["",n.k.required],itemType:["",n.k.required]})}get f(){return this.form.controls}onSubmit(){if(this.submitted=!0,this.alertService.clear(),!this.form.invalid){this.loading=!0;var t=new a.c;t.title=this.f.title.value,t.description=this.form.get("description").value,t.itemType=this.f.itemType.value,console.log(t),this.client.createItem(t).subscribe(t=>{console.log(t),this.alertService.success("New item is created!",{keepAfterRouteChange:!0}),this.router.navigate(["/"])},t=>{console.log(t),this.alertService.error(t),this.loading=!1})}}}return t.\u0275fac=function(e){return new(e||t)(c.Hb(n.c),c.Hb(r.a),c.Hb(r.c),c.Hb(b.a),c.Hb(b.b),c.Hb(a.b))},t.\u0275cmp=c.Bb({type:t,selectors:[["ng-component"]],decls:29,vars:14,consts:[[3,"formGroup","ngSubmit"],["type","text","formControlName","title","size","20",3,"ngClass"],[4,"ngIf"],["formControlName","itemType",3,"ngClass"],["value","Game"],["value","Generic"],["value","Movie"],["value","Book"],["cols","40","rows","5","formControlName","description",3,"ngClass"],["type","submit",3,"disabled"],["routerLink","/","href",""]],template:function(t,e){1&t&&(c.Kb(0,"section"),c.Kb(1,"form",0),c.Qb("ngSubmit",(function(){return e.onSubmit()})),c.Kb(2,"header"),c.Kb(3,"h2"),c.fc(4,"Add a new item"),c.Jb(),c.Jb(),c.Kb(5,"label"),c.fc(6,"Title:"),c.Jb(),c.Ib(7,"input",1),c.ec(8,f,2,1,"div",2),c.Kb(9,"label"),c.fc(10,"Item type:"),c.Jb(),c.Kb(11,"select",3),c.Kb(12,"option",4),c.fc(13,"Game"),c.Jb(),c.Kb(14,"option",5),c.fc(15,"Generic"),c.Jb(),c.Kb(16,"option",6),c.fc(17,"Movie"),c.Jb(),c.Kb(18,"option",7),c.fc(19,"Book"),c.Jb(),c.Jb(),c.Kb(20,"label"),c.fc(21,"Description:"),c.Jb(),c.Ib(22,"textarea",8),c.ec(23,p,2,1,"div",2),c.Kb(24,"button",9),c.fc(25," Save"),c.ec(26,m,2,0,"span",2),c.Jb(),c.Kb(27,"a",10),c.fc(28,"Cancel"),c.Jb(),c.Jb(),c.Jb()),2&t&&(c.xb(1),c.Vb("formGroup",e.form),c.xb(6),c.Vb("ngClass",c.Yb(8,h,e.submitted&&e.f.title.errors)),c.xb(1),c.Vb("ngIf",e.submitted&&e.f.title.errors),c.xb(3),c.Vb("ngClass",c.Yb(10,h,e.submitted&&e.f.itemType.errors)),c.xb(11),c.Vb("ngClass",c.Yb(12,h,e.submitted&&e.f.description.errors)),c.xb(1),c.Vb("ngIf",e.submitted&&e.f.title.errors),c.xb(1),c.Vb("disabled",e.loading),c.xb(2),c.Vb("ngIf",e.loading))},directives:[n.m,n.g,n.e,n.b,n.f,n.d,o.i,o.k,n.j,n.h,n.l,r.e],encapsulation:2}),t})()},{path:":itemid",component:l}]}];let v=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(e){return new(e||t)},imports:[[r.f.forChild(g)],r.f]}),t})(),J=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(e){return new(e||t)},imports:[[o.b,n.i,v]]}),t})()}}]);